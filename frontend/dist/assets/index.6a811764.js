const Fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};Fe();function y(){}function Me(t){return t()}function $e(){return Object.create(null)}function z(t){t.forEach(Me)}function Ee(t){return typeof t=="function"}function O(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function He(t){return Object.keys(t).length===0}function je(t,...e){if(t==null)return y;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ne(t,e,n){t.$$.on_destroy.push(je(e,n))}function m(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function k(){return N(" ")}function Oe(){return N("")}function M(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Re(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function G(t,e){t.value=e==null?"":e}let de;function ee(t){de=t}const x=[],Ce=[],oe=[],ke=[],De=Promise.resolve();let me=!1;function Ue(){me||(me=!0,De.then(Ae))}function pe(t){oe.push(t)}const he=new Set;let re=0;function Ae(){const t=de;do{for(;re<x.length;){const e=x[re];re++,ee(e),Je(e.$$)}for(ee(null),x.length=0,re=0;Ce.length;)Ce.pop()();for(let e=0;e<oe.length;e+=1){const n=oe[e];he.has(n)||(he.add(n),n())}oe.length=0}while(x.length);for(;ke.length;)ke.pop()();me=!1,he.clear(),ee(t)}function Je(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pe)}}const ue=new Set;let Q;function le(){Q={r:0,c:[],p:Q}}function ie(){Q.r||z(Q.c),Q=Q.p}function v(t,e){t&&t.i&&(ue.delete(t),t.i(e))}function S(t,e,n,l){if(t&&t.o){if(ue.has(t))return;ue.add(t),Q.c.push(()=>{ue.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function j(t){t&&t.c()}function A(t,e,n,l){const{fragment:i,on_mount:r,on_destroy:f,after_update:o}=t.$$;i&&i.m(e,n),l||pe(()=>{const a=r.map(Me).filter(Ee);f?f.push(...a):z(a),t.$$.on_mount=[]}),o.forEach(pe)}function F(t,e){const n=t.$$;n.fragment!==null&&(z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(t,e){t.$$.dirty[0]===-1&&(x.push(t),Ue(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(t,e,n,l,i,r,f,o=[-1]){const a=de;ee(t);const u=t.$$={fragment:null,ctx:null,props:r,update:y,not_equal:i,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:$e(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};f&&f(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(g,c,...p)=>{const s=p.length?p[0]:c;return u.ctx&&i(u.ctx[g],u.ctx[g]=s)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](s),h&&qe(t,g)),c}):[],u.update(),h=!0,z(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const g=Re(e.target);u.fragment&&u.fragment.l(g),g.forEach($)}else u.fragment&&u.fragment.c();e.intro&&v(t.$$.fragment),A(t,e.target,e.anchor,e.customElement),Ae()}ee(a)}class H{$destroy(){F(this,1),this.$destroy=y}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!He(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ze(t){window.runtime.LogPrint(t)}function Ke(t,e,n){window.runtime.EventsOnMultiple(t,e,n)}function D(t,e){Ke(t,e,-1)}function ae(t){let e=[t].slice.call(arguments);return window.runtime.EventsEmit.apply(null,e)}function K(t){ze("[TS] "+t)}var J=(t=>(t[t.HomePane=0]="HomePane",t[t.ChatPane=1]="ChatPane",t[t.BattlePane=2]="BattlePane",t[t.RoomPane=3]="RoomPane",t[t.TeamBuilderPane=4]="TeamBuilderPane",t))(J||{}),T=(t=>(t[t.Login=0]="Login",t[t.Register=1]="Register",t[t.Client=2]="Client",t[t.Settings=3]="Settings",t[t.Previous=4]="Previous",t))(T||{}),q=(t=>(t.ViewChange="uiChangeView",t.PaneChange="uiChangePane",t.DeletePane="uiDeletePane",t.DeleteChat="uiDeleteChat",t.NewChallenge="uiBeenChallenged",t))(q||{}),X=(t=>(t.LoginFail="loginFail",t.LoginSuccess="loginSuccess",t.FormatList="formats",t.PrivateMessage="pm",t.RoomMessage="roomMsg",t.Popup="popup",t.Challenge="challenged",t.ChallengeEnd="challengeEnd",t))(X||{}),te=(t=>(t[t.Other=0]="Other",t[t.Self=1]="Self",t[t.System=2]="System",t))(te||{});function we(t){let e,n,l;return{c(){e=d("input"),P(e,"type","button"),e.value="\u2716"},m(i,r){w(i,e,r),n||(l=M(e,"click",t[2]),n=!0)},p:y,d(i){i&&$(e),n=!1,l()}}}function Ye(t){let e,n,l,i,r,f,o=t[0].type!==J.HomePane&&t[0].type!==J.ChatPane&&we(t);return{c(){e=d("main"),n=d("input"),i=k(),o&&o.c(),P(n,"type","button"),n.value=l=t[0].name},m(a,u){w(a,e,u),m(e,n),m(e,i),o&&o.m(e,null),r||(f=M(n,"click",t[1]),r=!0)},p(a,[u]){u&1&&l!==(l=a[0].name)&&(n.value=l),a[0].type!==J.HomePane&&a[0].type!==J.ChatPane?o?o.p(a,u):(o=we(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:y,o:y,d(a){a&&$(e),o&&o.d(),r=!1,f()}}}function Ge(t,e,n){let{info:l}=e;function i(){ae(q.PaneChange,l.name)}function r(){ae(q.DeletePane,l.name)}return t.$$set=f=>{"info"in f&&n(0,l=f.info)},[l,i,r]}class Qe extends H{constructor(e){super(),E(this,e,Ge,Ye,O,{info:0})}}const I=[];function se(t,e=y){let n;const l=new Set;function i(o){if(O(t,o)&&(t=o,n)){const a=!I.length;for(const u of l)u[1](),I.push(u,t);if(a){for(let u=0;u<I.length;u+=2)I[u][0](I[u+1]);I.length=0}}}function r(o){i(o(t))}function f(o,a=y){const u=[o,a];return l.add(u),l.size===1&&(n=e(i)||y),o(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:i,update:r,subscribe:f}}const V=se(new Object),ge=se(""),Xe=se([{type:J.HomePane,name:"Home",front:!0,removable:!1},{type:J.ChatPane,name:"Private Chats",front:!1,removable:!1}]),ce=se([]);function Ze(t){let e,n,l,i,r,f;return{c(){e=d("main"),n=d("div"),l=d("h1"),l.textContent="This is the Home Pane",i=k(),r=d("h2"),r.textContent="Eventually this is where Battle search will appear",n.hidden=f=!t[0]},m(o,a){w(o,e,a),m(e,n),m(n,l),m(n,i),m(n,r)},p(o,[a]){a&1&&f!==(f=!o[0])&&(n.hidden=f)},i:y,o:y,d(o){o&&$(e)}}}function Ie(t,e,n){let{info:l}=e,i=l.front;return D(q.PaneChange,r=>{r===l.name?n(0,i=!0):n(0,i=!1)}),t.$$set=r=>{"info"in r&&n(1,l=r.info)},[i,l]}class Ve extends H{constructor(e){super(),E(this,e,Ie,Ze,O,{info:1})}}function Te(t){window.go.main.App.RejectBattleChallengeFromUser(t)}function xe(t,e,n){window.go.main.App.SendBattleChallengeToUser(t,e,n)}function et(t){window.go.main.App.CancelBattleChallengeToUser(t)}function tt(t,e){window.go.main.App.SendPM(t,e)}function nt(t,e){window.go.main.App.AcceptBattleChallengeFromUser(t,e)}function lt(t,e){window.go.main.App.SDLogin(t,e)}function it(t){let e,n,l,i,r,f,o,a;return{c(){e=d("main"),n=d("input"),l=k(),i=d("input"),r=k(),f=d("input"),P(n,"type","button"),n.value="Challenge",P(i,"type","button"),i.value="Block",P(f,"type","button"),f.value="Report"},m(u,h){w(u,e,h),m(e,n),m(e,l),m(e,i),m(e,r),m(e,f),o||(a=[M(n,"click",t[0]),M(i,"click",rt),M(f,"click",ot)],o=!0)},p:y,i:y,o:y,d(u){u&&$(e),o=!1,z(a)}}}function rt(){alert("blocking isn't supported yet - sorry")}function ot(){alert("Reporting isn't implemented yet - sorry")}function ut(t,e,n){let{chatWith:l}=e;function i(){xe(l,"gen8randombattle","null")}return t.$$set=r=>{"chatWith"in r&&n(1,l=r.chatWith)},[i,l]}class ft extends H{constructor(e){super(),E(this,e,ut,it,O,{chatWith:1})}}function at(t){let e,n,l,i,r,f,o,a,u,h,g;return{c(){e=d("p"),n=d("strong"),l=N("You challenged "),i=N(t[0]),r=N(" to a "),f=N(t[2]),o=N(" battle!"),a=k(),u=d("input"),P(u,"type","button"),u.value="Cancel"},m(c,p){w(c,e,p),m(e,n),m(n,l),m(n,i),m(n,r),m(n,f),m(n,o),w(c,a,p),w(c,u,p),h||(g=M(u,"click",t[6]),h=!0)},p(c,p){p&1&&U(i,c[0]),p&4&&U(f,c[2])},d(c){c&&$(e),c&&$(a),c&&$(u),h=!1,g()}}}function ct(t){let e,n,l,i,r,f,o,a,u,h;return{c(){e=d("p"),n=d("strong"),l=N(t[1]),i=N(" wants to battle!"),r=k(),f=d("input"),o=k(),a=d("input"),P(f,"type","button"),f.value="\u2714",P(a,"type","button"),a.value="\u2716"},m(g,c){w(g,e,c),m(e,n),m(n,l),m(n,i),w(g,r,c),w(g,f,c),w(g,o,c),w(g,a,c),u||(h=[M(f,"click",t[4]),M(a,"click",t[5])],u=!0)},p(g,c){c&2&&U(l,g[1])},d(g){g&&$(e),g&&$(r),g&&$(f),g&&$(o),g&&$(a),u=!1,z(h)}}}function st(t){let e,n,l;function i(o,a){return o[1]===o[0]?ct:at}let r=i(t),f=r(t);return{c(){e=d("main"),n=d("div"),f.c(),n.hidden=l=!t[3]},m(o,a){w(o,e,a),m(e,n),f.m(n,null)},p(o,[a]){r===(r=i(o))&&f?f.p(o,a):(f.d(1),f=r(o),f&&(f.c(),f.m(n,null))),a&8&&l!==(l=!o[3])&&(n.hidden=l)},i:y,o:y,d(o){o&&$(e),f.d()}}}function ht(t,e,n){let l,i,r;ne(t,ge,c=>n(8,i=c)),ne(t,ce,c=>n(7,r=c));let{challengeWith:f}=e,o="sliggoeyAppPlaceholderChallenger",a="";ce.subscribe(c=>{let p=c.find(s=>s.With===f);p&&(n(1,o=p.Challenger==te.Self?i:p.With),n(2,a=p.Format))});function u(){nt(f,"null"),n(3,l=!1)}function h(){Te(f),n(3,l=!1)}function g(){et(f),n(3,l=!1)}return t.$$set=c=>{"challengeWith"in c&&n(0,f=c.challengeWith)},t.$$.update=()=>{t.$$.dirty&129&&n(3,l=r.find(c=>c.With===f)!==void 0)},[f,o,a,l,u,h,g,r]}class mt extends H{constructor(e){super(),E(this,e,ht,st,O,{challengeWith:0})}}function ve(t,e,n){const l=t.slice();return l[6]=e[n],l}function pt(t){let e,n=t[6].Message+"",l;return{c(){e=d("p"),l=N(n)},m(i,r){w(i,e,r),m(e,l)},p(i,r){r&5&&n!==(n=i[6].Message+"")&&U(l,n)},d(i){i&&$(e)}}}function dt(t){let e,n=t[6].IAm+"",l,i,r=t[6].Message+"",f;return{c(){e=d("p"),l=N(n),i=k(),f=N(r)},m(o,a){w(o,e,a),m(e,l),m(e,i),m(e,f)},p(o,a){a&5&&n!==(n=o[6].IAm+"")&&U(l,n),a&5&&r!==(r=o[6].Message+"")&&U(f,r)},d(o){o&&$(e)}}}function gt(t){let e,n=t[6].With+"",l,i,r=t[6].Message+"",f;return{c(){e=d("p"),l=N(n),i=k(),f=N(r)},m(o,a){w(o,e,a),m(e,l),m(e,i),m(e,f)},p(o,a){a&5&&n!==(n=o[6].With+"")&&U(l,n),a&5&&r!==(r=o[6].Message+"")&&U(f,r)},d(o){o&&$(e)}}}function ye(t){let e;function n(r,f){if(r[6].From===te.Other)return gt;if(r[6].From===te.Self)return dt;if(r[6].From===te.System)return pt}let l=n(t),i=l&&l(t);return{c(){i&&i.c(),e=Oe()},m(r,f){i&&i.m(r,f),w(r,e,f)},p(r,f){l===(l=n(r))&&i?i.p(r,f):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i&&i.d(r),r&&$(e)}}}function _t(t){let e,n,l,i,r,f,o,a,u,h,g,c,p,s,W,_,B,b=t[2][t[0]],L=[];for(let C=0;C<b.length;C+=1)L[C]=ye(ve(t,b,C));return c=new mt({props:{challengeWith:t[0]}}),s=new ft({props:{chatWith:t[0]}}),{c(){e=d("main"),n=d("h3"),l=N(t[0]),i=k(),r=d("input"),f=k();for(let C=0;C<L.length;C+=1)L[C].c();o=k(),a=d("input"),u=k(),h=d("input"),g=k(),j(c.$$.fragment),p=k(),j(s.$$.fragment),P(r,"type","button"),r.value="\u2716",P(a,"type","text"),P(h,"type","button"),h.value="Send"},m(C,Y){w(C,e,Y),m(e,n),m(n,l),m(e,i),m(e,r),m(e,f);for(let Z=0;Z<L.length;Z+=1)L[Z].m(e,null);m(e,o),m(e,a),G(a,t[1]),m(e,u),m(e,h),m(e,g),A(c,e,null),m(e,p),A(s,e,null),W=!0,_||(B=[M(r,"click",t[4]),M(a,"input",t[5]),M(h,"click",t[3])],_=!0)},p(C,[Y]){if((!W||Y&1)&&U(l,C[0]),Y&5){b=C[2][C[0]];let R;for(R=0;R<b.length;R+=1){const be=ve(C,b,R);L[R]?L[R].p(be,Y):(L[R]=ye(be),L[R].c(),L[R].m(e,o))}for(;R<L.length;R+=1)L[R].d(1);L.length=b.length}Y&2&&a.value!==C[1]&&G(a,C[1]);const Z={};Y&1&&(Z.challengeWith=C[0]),c.$set(Z);const _e={};Y&1&&(_e.chatWith=C[0]),s.$set(_e)},i(C){W||(v(c.$$.fragment,C),v(s.$$.fragment,C),W=!0)},o(C){S(c.$$.fragment,C),S(s.$$.fragment,C),W=!1},d(C){C&&$(e),fe(L,C),F(c),F(s),_=!1,z(B)}}}function bt(t,e,n){let l;ne(t,V,u=>n(2,l=u));let{chatWith:i}=e,r;function f(){tt(i,r),n(1,r="")}function o(){ae(q.DeleteChat,i)}function a(){r=this.value,n(1,r)}return t.$$set=u=>{"chatWith"in u&&n(0,i=u.chatWith)},[i,r,l,f,o,a]}class $t extends H{constructor(e){super(),E(this,e,bt,_t,O,{chatWith:0})}}function Pe(t,e,n){const l=t.slice();return l[6]=e[n],l}function We(t){let e,n;return e=new $t({props:{chatWith:t[6]}}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},p(l,i){const r={};i&4&&(r.chatWith=l[6]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Ct(t){let e,n,l,i,r,f,o,a,u,h,g,c,p=Object.keys(t[2]),s=[];for(let _=0;_<p.length;_+=1)s[_]=We(Pe(t,p,_));const W=_=>S(s[_],1,1,()=>{s[_]=null});return{c(){e=d("main"),n=d("div"),l=d("h1"),l.textContent="This is a Chat Pane",i=k(),r=d("input"),f=k(),o=d("input"),a=k();for(let _=0;_<s.length;_+=1)s[_].c();P(r,"type","text"),P(o,"type","button"),o.value="Start New Chat",n.hidden=u=!t[0]},m(_,B){w(_,e,B),m(e,n),m(n,l),m(n,i),m(n,r),G(r,t[1]),m(n,f),m(n,o),m(n,a);for(let b=0;b<s.length;b+=1)s[b].m(n,null);h=!0,g||(c=[M(r,"input",t[5]),M(o,"click",t[3])],g=!0)},p(_,[B]){if(B&2&&r.value!==_[1]&&G(r,_[1]),B&4){p=Object.keys(_[2]);let b;for(b=0;b<p.length;b+=1){const L=Pe(_,p,b);s[b]?(s[b].p(L,B),v(s[b],1)):(s[b]=We(L),s[b].c(),v(s[b],1),s[b].m(n,null))}for(le(),b=p.length;b<s.length;b+=1)W(b);ie()}(!h||B&1&&u!==(u=!_[0]))&&(n.hidden=u)},i(_){if(!h){for(let B=0;B<p.length;B+=1)v(s[B]);h=!0}},o(_){s=s.filter(Boolean);for(let B=0;B<s.length;B+=1)S(s[B]);h=!1},d(_){_&&$(e),fe(s,_),g=!1,z(c)}}}function kt(t,e,n){let l;ne(t,V,u=>n(2,l=u));let{info:i}=e,r=i.front,f;function o(){K("new PM"),V.update(u=>(u[f]=[],u))}D(q.PaneChange,u=>{u===i.name?n(0,r=!0):n(0,r=!1)}),D(q.DeleteChat,u=>{K(`closing chat box with ${u}`),V.update(h=>(delete h[u],h))}),D(X.PrivateMessage,u=>{K(`received a new PM: ${JSON.stringify(u)}`),K(JSON.stringify(l)),l[u.With]===void 0?V.update(h=>(h[u.With]=[u],h)):V.update(h=>(h[u.With]=[...h[u.With],u],h)),K(JSON.stringify(l))}),D(X.Challenge,u=>{K(`received a new Challenge: ${JSON.stringify(u)}`),ce.update(h=>(h=[...h,u],h))}),D(X.ChallengeEnd,u=>{ce.update(h=>(h=h.filter(g=>g.With!==u),h))});function a(){f=this.value,n(1,f)}return t.$$set=u=>{"info"in u&&n(4,i=u.info)},[r,f,l,o,i,a]}class wt extends H{constructor(e){super(),E(this,e,kt,Ct,O,{info:4})}}function vt(t){let e;return{c(){e=d("main"),e.innerHTML="<h1>Imagine a battle happening here</h1>"},m(n,l){w(n,e,l)},p:y,i:y,o:y,d(n){n&&$(e)}}}class yt extends H{constructor(e){super(),E(this,e,null,vt,O,{})}}function Pt(t){let e;return{c(){e=d("main")},m(n,l){w(n,e,l)},p:y,i:y,o:y,d(n){n&&$(e)}}}class Wt extends H{constructor(e){super(),E(this,e,null,Pt,O,{})}}function St(t){let e;return{c(){e=d("main")},m(n,l){w(n,e,l)},p:y,i:y,o:y,d(n){n&&$(e)}}}function Bt(t,e,n){let{roomName:l}=e;return D(l,i=>{}),t.$$set=i=>{"roomName"in i&&n(0,l=i.roomName)},[l]}class Nt extends H{constructor(e){super(),E(this,e,Bt,St,O,{roomName:0})}}function Lt(t){let e,n,l,i,r,f,o,a,u,h,g,c,p,s,W;return a=new yt({}),h=new Wt({}),p=new Nt({props:{roomName:t[0].name}}),{c(){e=d("main"),n=d("div"),l=d("h1"),l.textContent="This is a battle pane",i=k(),r=d("div"),r.innerHTML="<h2>Imagine something cool being here, like a damage calculator</h2>",f=k(),o=d("div"),j(a.$$.fragment),u=k(),j(h.$$.fragment),g=k(),c=d("div"),j(p.$$.fragment),P(r,"id","left-col"),P(o,"id","center-col"),P(c,"id","right-col"),n.hidden=s=!t[1]},m(_,B){w(_,e,B),m(e,n),m(n,l),m(n,i),m(n,r),m(n,f),m(n,o),A(a,o,null),m(o,u),A(h,o,null),m(n,g),m(n,c),A(p,c,null),W=!0},p(_,[B]){const b={};B&1&&(b.roomName=_[0].name),p.$set(b),(!W||B&2&&s!==(s=!_[1]))&&(n.hidden=s)},i(_){W||(v(a.$$.fragment,_),v(h.$$.fragment,_),v(p.$$.fragment,_),W=!0)},o(_){S(a.$$.fragment,_),S(h.$$.fragment,_),S(p.$$.fragment,_),W=!1},d(_){_&&$(e),F(a),F(h),F(p)}}}function Mt(t,e,n){let{info:l}=e,i=l.front;return D(q.PaneChange,r=>{r===l.name?n(1,i=!0):n(1,i=!1)}),t.$$set=r=>{"info"in r&&n(0,l=r.info)},[l,i]}class Ot extends H{constructor(e){super(),E(this,e,Mt,Lt,O,{info:0})}}function Se(t,e,n){const l=t.slice();return l[1]=e[n],l}function Be(t,e,n){const l=t.slice();return l[1]=e[n],l}function Ne(t){let e,n;return e=new Qe({props:{info:t[1]}}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function At(t){let e,n;return e=new Ot({props:{info:t[1]}}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Ft(t){let e,n;return e=new wt({props:{info:t[1]}}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Et(t){let e,n;return e=new Ve({props:{info:t[1]}}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Le(t){let e,n,l,i;const r=[Et,Ft,At],f=[];function o(a,u){return a[1].type===J.HomePane?0:a[1].type===J.ChatPane?1:a[1].type===J.BattlePane?2:-1}return~(e=o(t))&&(n=f[e]=r[e](t)),{c(){n&&n.c(),l=Oe()},m(a,u){~e&&f[e].m(a,u),w(a,l,u),i=!0},p(a,u){let h=e;e=o(a),e===h?~e&&f[e].p(a,u):(n&&(le(),S(f[h],1,1,()=>{f[h]=null}),ie()),~e?(n=f[e],n?n.p(a,u):(n=f[e]=r[e](a),n.c()),v(n,1),n.m(l.parentNode,l)):n=null)},i(a){i||(v(n),i=!0)},o(a){S(n),i=!1},d(a){~e&&f[e].d(a),a&&$(l)}}}function Ht(t){let e,n,l,i,r,f=t[0],o=[];for(let c=0;c<f.length;c+=1)o[c]=Ne(Be(t,f,c));const a=c=>S(o[c],1,1,()=>{o[c]=null});let u=t[0],h=[];for(let c=0;c<u.length;c+=1)h[c]=Le(Se(t,u,c));const g=c=>S(h[c],1,1,()=>{h[c]=null});return{c(){e=d("main"),n=d("div");for(let c=0;c<o.length;c+=1)o[c].c();l=k(),i=d("div");for(let c=0;c<h.length;c+=1)h[c].c();P(n,"id","tabs"),P(i,"id","view")},m(c,p){w(c,e,p),m(e,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null);m(e,l),m(e,i);for(let s=0;s<h.length;s+=1)h[s].m(i,null);r=!0},p(c,[p]){if(p&1){f=c[0];let s;for(s=0;s<f.length;s+=1){const W=Be(c,f,s);o[s]?(o[s].p(W,p),v(o[s],1)):(o[s]=Ne(W),o[s].c(),v(o[s],1),o[s].m(n,null))}for(le(),s=f.length;s<o.length;s+=1)a(s);ie()}if(p&1){u=c[0];let s;for(s=0;s<u.length;s+=1){const W=Se(c,u,s);h[s]?(h[s].p(W,p),v(h[s],1)):(h[s]=Le(W),h[s].c(),v(h[s],1),h[s].m(i,null))}for(le(),s=u.length;s<h.length;s+=1)g(s);ie()}},i(c){if(!r){for(let p=0;p<f.length;p+=1)v(o[p]);for(let p=0;p<u.length;p+=1)v(h[p]);r=!0}},o(c){o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)S(o[p]);h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)S(h[p]);r=!1},d(c){c&&$(e),fe(o,c),fe(h,c)}}}function jt(t,e,n){let l;return ne(t,Xe,i=>n(0,l=i)),[l]}class Rt extends H{constructor(e){super(),E(this,e,jt,Ht,O,{})}}function Dt(t){let e,n,l,i,r,f,o;return f=new Rt({}),{c(){e=d("main"),n=d("h1"),l=N("Welcome, "),i=N(t[0]),r=k(),j(f.$$.fragment)},m(a,u){w(a,e,u),m(e,n),m(n,l),m(n,i),m(e,r),A(f,e,null),o=!0},p(a,[u]){(!o||u&1)&&U(i,a[0])},i(a){o||(v(f.$$.fragment,a),o=!0)},o(a){S(f.$$.fragment,a),o=!1},d(a){a&&$(e),F(f)}}}function Ut(t,e,n){let l;return ge.subscribe(i=>{n(0,l=i)}),D(X.Popup,i=>{}),[l]}class Jt extends H{constructor(e){super(),E(this,e,Ut,Dt,O,{})}}function qt(t){let e,n,l,i,r,f,o,a,u,h,g,c,p;return{c(){e=d("main"),n=d("h1"),n.textContent="Enter Username and Password",l=k(),i=d("p"),r=N(t[2]),f=k(),o=d("input"),a=k(),u=d("input"),h=k(),g=d("input"),P(i,"id","error-box"),P(o,"type","text"),P(o,"name","uname"),P(o,"id","uname"),P(u,"type","password"),P(u,"name","pword"),P(u,"id","pword"),P(g,"type","button"),g.value="Login"},m(s,W){w(s,e,W),m(e,n),m(e,l),m(e,i),m(i,r),m(e,f),m(e,o),G(o,t[0]),m(e,a),m(e,u),G(u,t[1]),m(e,h),m(e,g),c||(p=[M(o,"input",t[4]),M(u,"input",t[5]),M(g,"click",t[3])],c=!0)},p(s,[W]){W&4&&U(r,s[2]),W&1&&o.value!==s[0]&&G(o,s[0]),W&2&&u.value!==s[1]&&G(u,s[1])},i:y,o:y,d(s){s&&$(e),c=!1,z(p)}}}function zt(t,e,n){let l,i,r="";function f(){K("sending login"),lt(l,i)}D(X.LoginSuccess,u=>{K(`${u.UserName} logged in`),ge.update(()=>u.UserName),ae(q.ViewChange,T.Client)}),D(X.LoginFail,u=>{K("login failure"),n(2,r=u.Reason)});function o(){l=this.value,n(0,l)}function a(){i=this.value,n(1,i)}return[l,i,r,f,o,a]}class Kt extends H{constructor(e){super(),E(this,e,zt,qt,O,{})}}function Yt(t){let e,n;return e=new Jt({}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Gt(t){let e,n;return e=new Kt({}),{c(){j(e.$$.fragment)},m(l,i){A(e,l,i),n=!0},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Qt(t){let e,n,l,i;const r=[Gt,Yt],f=[];function o(a,u){return a[0]==T.Login?0:a[0]==T.Client?1:-1}return~(n=o(t))&&(l=f[n]=r[n](t)),{c(){e=d("main"),l&&l.c()},m(a,u){w(a,e,u),~n&&f[n].m(e,null),i=!0},p(a,[u]){let h=n;n=o(a),n!==h&&(l&&(le(),S(f[h],1,1,()=>{f[h]=null}),ie()),~n?(l=f[n],l||(l=f[n]=r[n](a),l.c()),v(l,1),l.m(e,null)):l=null)},i(a){i||(v(l),i=!0)},o(a){S(l),i=!1},d(a){a&&$(e),~n&&f[n].d()}}}function Xt(t,e,n){let l=T.Login,i=l;return D(q.ViewChange,r=>{if(r===T.Previous){let f=l;n(0,l=i),i=f}else i=l,n(0,l=r)}),[l]}class Zt extends H{constructor(e){super(),E(this,e,Xt,Qt,O,{})}}new Zt({target:document.getElementById("app")});
