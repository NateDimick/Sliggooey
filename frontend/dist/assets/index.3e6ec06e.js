const Ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};Ue();function S(){}function Oe(t){return t()}function we(){return Object.create(null)}function K(t){t.forEach(Oe)}function je(t){return typeof t=="function"}function D(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Je(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null)return S;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function qe(t){let e;return Fe(t,n=>e=n)(),e}function ce(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function m(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function se(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function k(){return N(" ")}function Ae(){return N("")}function L(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ze(t){return Array.from(t.childNodes)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function G(t,e){t.value=e==null?"":e}let le;function ne(t){le=t}function Ee(){if(!le)throw new Error("Function called outside component initialization");return le}function De(t){Ee().$$.on_mount.push(t)}function Re(t){Ee().$$.on_destroy.push(t)}const ee=[],Ce=[],ue=[],ke=[],Ke=Promise.resolve();let me=!1;function Ye(){me||(me=!0,Ke.then(He))}function pe(t){ue.push(t)}const he=new Set;let oe=0;function He(){const t=le;do{for(;oe<ee.length;){const e=ee[oe];oe++,ne(e),Ge(e.$$)}for(ne(null),ee.length=0,oe=0;Ce.length;)Ce.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];he.has(n)||(he.add(n),n())}ue.length=0}while(ee.length);for(;ke.length;)ke.pop()();me=!1,he.clear(),ne(t)}function Ge(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pe)}}const fe=new Set;let X;function ie(){X={r:0,c:[],p:X}}function re(){X.r||K(X.c),X=X.p}function v(t,e){t&&t.i&&(fe.delete(t),t.i(e))}function W(t,e,n,l){if(t&&t.o){if(fe.has(t))return;fe.add(t),X.c.push(()=>{fe.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function z(t){t&&t.c()}function H(t,e,n,l){const{fragment:i,on_mount:r,on_destroy:f,after_update:o}=t.$$;i&&i.m(e,n),l||pe(()=>{const c=r.map(Oe).filter(je);f?f.push(...c):K(c),t.$$.on_mount=[]}),o.forEach(pe)}function U(t,e){const n=t.$$;n.fragment!==null&&(K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Qe(t,e){t.$$.dirty[0]===-1&&(ee.push(t),Ye(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(t,e,n,l,i,r,f,o=[-1]){const c=le;ne(t);const u=t.$$={fragment:null,ctx:null,props:r,update:S,not_equal:i,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:we(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};f&&f(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(d,a,...p)=>{const s=p.length?p[0]:a;return u.ctx&&i(u.ctx[d],u.ctx[d]=s)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](s),h&&Qe(t,d)),a}):[],u.update(),h=!0,K(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const d=ze(e.target);u.fragment&&u.fragment.l(d),d.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&v(t.$$.fragment),H(t,e.target,e.anchor,e.customElement),He()}ne(c)}class J{$destroy(){U(this,1),this.$destroy=S}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Xe(t){window.runtime.LogPrint(t)}function Ze(t,e,n){window.runtime.EventsOnMultiple(t,e,n)}function F(t,e){Ze(t,e,-1)}function ge(t){return window.runtime.EventsOff(t)}function Z(t){let e=[t].slice.call(arguments);return window.runtime.EventsEmit.apply(null,e)}function O(t){Xe("[TS] "+t)}var q=(t=>(t[t.HomePane=0]="HomePane",t[t.ChatPane=1]="ChatPane",t[t.BattlePane=2]="BattlePane",t[t.RoomPane=3]="RoomPane",t[t.TeamBuilderPane=4]="TeamBuilderPane",t))(q||{}),x=(t=>(t[t.Login=0]="Login",t[t.Register=1]="Register",t[t.Client=2]="Client",t[t.Settings=3]="Settings",t[t.Previous=4]="Previous",t))(x||{}),E=(t=>(t.ViewChange="uiChangeView",t.PaneChange="uiChangePane",t.DeletePane="uiDeletePane",t.DeleteChat="uiDeleteChat",t.NewChallenge="uiBeenChallenged",t))(E||{}),I=(t=>(t.LoginFail="loginFail",t.LoginSuccess="loginSuccess",t.FormatList="formats",t.PrivateMessage="pm",t.RoomMessage="roomMsg",t.Popup="popup",t.Challenge="challenged",t.ChallengeEnd="challengeEnd",t))(I||{}),Q=(t=>(t[t.Other=0]="Other",t[t.Self=1]="Self",t[t.System=2]="System",t))(Q||{});function ve(t){let e,n,l;return{c(){e=g("input"),y(e,"type","button"),e.value="\u2716"},m(i,r){C(i,e,r),n||(l=L(e,"click",t[2]),n=!0)},p:S,d(i){i&&w(e),n=!1,l()}}}function Ie(t){let e,n,l,i,r,f,o=t[0].type!==q.HomePane&&t[0].type!==q.ChatPane&&ve(t);return{c(){e=g("main"),n=g("input"),i=k(),o&&o.c(),y(n,"type","button"),n.value=l=t[0].name},m(c,u){C(c,e,u),m(e,n),m(e,i),o&&o.m(e,null),r||(f=L(n,"click",t[1]),r=!0)},p(c,[u]){u&1&&l!==(l=c[0].name)&&(n.value=l),c[0].type!==q.HomePane&&c[0].type!==q.ChatPane?o?o.p(c,u):(o=ve(c),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:S,o:S,d(c){c&&w(e),o&&o.d(),r=!1,f()}}}function Ve(t,e,n){let{info:l}=e;function i(){Z(E.PaneChange,l.name)}function r(){Z(E.DeletePane,l.name)}return t.$$set=f=>{"info"in f&&n(0,l=f.info)},[l,i,r]}class Te extends J{constructor(e){super(),j(this,e,Ve,Ie,D,{info:0})}}const T=[];function ae(t,e=S){let n;const l=new Set;function i(o){if(D(t,o)&&(t=o,n)){const c=!T.length;for(const u of l)u[1](),T.push(u,t);if(c){for(let u=0;u<T.length;u+=2)T[u][0](T[u+1]);T.length=0}}}function r(o){i(o(t))}function f(o,c=S){const u=[o,c];return l.add(u),l.size===1&&(n=e(i)||S),o(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:i,update:r,subscribe:f}}const te=ae([]),_e=ae(""),xe=ae([{type:q.HomePane,name:"Home",front:!0,removable:!1},{type:q.ChatPane,name:"Private Chats",front:!1,removable:!1}]),de=ae([]);function et(t){let e,n,l,i,r,f;return{c(){e=g("main"),n=g("div"),l=g("h1"),l.textContent="This is the Home Pane",i=k(),r=g("h2"),r.textContent="Eventually this is where Battle search will appear",n.hidden=f=!t[0]},m(o,c){C(o,e,c),m(e,n),m(n,l),m(n,i),m(n,r)},p(o,[c]){c&1&&f!==(f=!o[0])&&(n.hidden=f)},i:S,o:S,d(o){o&&w(e)}}}function tt(t,e,n){let{info:l}=e,i=l.front;return F(E.PaneChange,r=>{r===l.name?n(0,i=!0):n(0,i=!1)}),t.$$set=r=>{"info"in r&&n(1,l=r.info)},[i,l]}class nt extends J{constructor(e){super(),j(this,e,tt,et,D,{info:1})}}function lt(t){window.go.main.App.RejectBattleChallengeFromUser(t)}function it(t,e){window.go.main.App.SDLogin(t,e)}function rt(t,e,n){window.go.main.App.SendBattleChallengeToUser(t,e,n)}function ot(t,e){window.go.main.App.AcceptBattleChallengeFromUser(t,e)}function ut(t,e){window.go.main.App.SendPM(t,e)}function ft(t){window.go.main.App.CancelBattleChallengeToUser(t)}function ct(t){let e,n,l,i,r,f,o,c;return{c(){e=g("main"),n=g("input"),l=k(),i=g("input"),r=k(),f=g("input"),y(n,"type","button"),n.value="Challenge",y(i,"type","button"),i.value="Block",y(f,"type","button"),f.value="Report"},m(u,h){C(u,e,h),m(e,n),m(e,l),m(e,i),m(e,r),m(e,f),o||(c=[L(n,"click",t[0]),L(i,"click",st),L(f,"click",at)],o=!0)},p:S,i:S,o:S,d(u){u&&w(e),o=!1,K(c)}}}function st(){alert("blocking isn't supported yet - sorry")}function at(){alert("Reporting isn't implemented yet - sorry")}function ht(t,e,n){let{chatWith:l}=e;function i(){rt(l,"gen8randombattle","null")}return t.$$set=r=>{"chatWith"in r&&n(1,l=r.chatWith)},[i,l]}class mt extends J{constructor(e){super(),j(this,e,ht,ct,D,{chatWith:1})}}function pt(t){let e,n,l,i,r,f,o,c,u,h,d;return{c(){e=g("p"),n=g("strong"),l=N("You challenged "),i=N(t[0]),r=N(" to a "),f=N(t[3]),o=N(" battle!"),c=k(),u=g("input"),y(u,"type","button"),u.value="Cancel"},m(a,p){C(a,e,p),m(e,n),m(n,l),m(n,i),m(n,r),m(n,f),m(n,o),C(a,c,p),C(a,u,p),h||(d=L(u,"click",t[6]),h=!0)},p(a,p){p&1&&R(i,a[0]),p&8&&R(f,a[3])},d(a){a&&w(e),a&&w(c),a&&w(u),h=!1,d()}}}function gt(t){let e,n,l,i,r,f,o,c,u,h;return{c(){e=g("p"),n=g("strong"),l=N(t[2]),i=N(" wants to battle!"),r=k(),f=g("input"),o=k(),c=g("input"),y(f,"type","button"),f.value="\u2714",y(c,"type","button"),c.value="\u2716"},m(d,a){C(d,e,a),m(e,n),m(n,l),m(n,i),C(d,r,a),C(d,f,a),C(d,o,a),C(d,c,a),u||(h=[L(f,"click",t[4]),L(c,"click",t[5])],u=!0)},p(d,a){a&4&&R(l,d[2])},d(d){d&&w(e),d&&w(r),d&&w(f),d&&w(o),d&&w(c),u=!1,K(h)}}}function dt(t){let e,n,l;function i(o,c){return o[2]===o[0]?gt:pt}let r=i(t),f=r(t);return{c(){e=g("main"),n=g("div"),f.c(),n.hidden=l=!t[1]},m(o,c){C(o,e,c),m(e,n),f.m(n,null)},p(o,[c]){r===(r=i(o))&&f?f.p(o,c):(f.d(1),f=r(o),f&&(f.c(),f.m(n,null))),c&2&&l!==(l=!o[1])&&(n.hidden=l)},i:S,o:S,d(o){o&&w(e),f.d()}}}function _t(t,e,n){let l,i;ce(t,_e,p=>n(7,l=p)),ce(t,de,p=>n(8,i=p));let{challengeWith:r}=e,f=!1,o="sliggoeyAppPlaceholderChallenger",c="";const u=r+E.NewChallenge;function h(){ot(r,"null"),n(1,f=!1)}function d(){lt(r),n(1,f=!1)}function a(){ft(r),n(1,f=!1)}return F(u,p=>{n(1,f=!0),n(3,c=p.Format),p.Challenger===Q.Self?n(2,o=l):p.Challenger===Q.Other&&n(2,o=r)}),F(`][${r}][`,()=>{n(1,f=!1)}),De(()=>{let p=i.find(s=>s.With===r);p&&(n(1,f=!0),n(3,c=p.Format),p.Challenger===Q.Self?n(2,o=l):p.Challenger===Q.Other&&n(2,o=r)),de.update(s=>(s=s.filter(P=>P.With!==r),s))}),Re(()=>{ge(u),ge(`][${r}][`)}),t.$$set=p=>{"challengeWith"in p&&n(0,r=p.challengeWith)},[r,f,o,c,h,d,a]}class bt extends J{constructor(e){super(),j(this,e,_t,dt,D,{challengeWith:0})}}function ye(t,e,n){const l=t.slice();return l[6]=e[n],l}function $t(t){let e,n=t[6].Message+"",l;return{c(){e=g("p"),l=N(n)},m(i,r){C(i,e,r),m(e,l)},p(i,r){r&2&&n!==(n=i[6].Message+"")&&R(l,n)},d(i){i&&w(e)}}}function wt(t){let e,n=t[6].IAm+"",l,i,r=t[6].Message+"",f;return{c(){e=g("p"),l=N(n),i=k(),f=N(r)},m(o,c){C(o,e,c),m(e,l),m(e,i),m(e,f)},p(o,c){c&2&&n!==(n=o[6].IAm+"")&&R(l,n),c&2&&r!==(r=o[6].Message+"")&&R(f,r)},d(o){o&&w(e)}}}function Ct(t){let e,n=t[6].With+"",l,i,r=t[6].Message+"",f;return{c(){e=g("p"),l=N(n),i=k(),f=N(r)},m(o,c){C(o,e,c),m(e,l),m(e,i),m(e,f)},p(o,c){c&2&&n!==(n=o[6].With+"")&&R(l,n),c&2&&r!==(r=o[6].Message+"")&&R(f,r)},d(o){o&&w(e)}}}function Pe(t){let e;function n(r,f){if(r[6].From===Q.Other)return Ct;if(r[6].From===Q.Self)return wt;if(r[6].From===Q.System)return $t}let l=n(t),i=l&&l(t);return{c(){i&&i.c(),e=Ae()},m(r,f){i&&i.m(r,f),C(r,e,f)},p(r,f){l===(l=n(r))&&i?i.p(r,f):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i&&i.d(r),r&&w(e)}}}function kt(t){let e,n,l,i,r,f,o,c,u,h,d,a,p,s,P,_,B,$=t[1],M=[];for(let b=0;b<$.length;b+=1)M[b]=Pe(ye(t,$,b));return a=new bt({props:{challengeWith:t[0]}}),s=new mt({props:{chatWith:t[0]}}),{c(){e=g("main"),n=g("h3"),l=N(t[0]),i=k(),r=g("input"),f=k();for(let b=0;b<M.length;b+=1)M[b].c();o=k(),c=g("input"),u=k(),h=g("input"),d=k(),z(a.$$.fragment),p=k(),z(s.$$.fragment),y(r,"type","button"),r.value="\u2716",y(c,"type","text"),y(h,"type","button"),h.value="Send"},m(b,Y){C(b,e,Y),m(e,n),m(n,l),m(e,i),m(e,r),m(e,f);for(let V=0;V<M.length;V+=1)M[V].m(e,null);m(e,o),m(e,c),G(c,t[2]),m(e,u),m(e,h),m(e,d),H(a,e,null),m(e,p),H(s,e,null),P=!0,_||(B=[L(r,"click",t[4]),L(c,"input",t[5]),L(h,"click",t[3])],_=!0)},p(b,[Y]){if((!P||Y&1)&&R(l,b[0]),Y&2){$=b[1];let A;for(A=0;A<$.length;A+=1){const $e=ye(b,$,A);M[A]?M[A].p($e,Y):(M[A]=Pe($e),M[A].c(),M[A].m(e,o))}for(;A<M.length;A+=1)M[A].d(1);M.length=$.length}Y&4&&c.value!==b[2]&&G(c,b[2]);const V={};Y&1&&(V.challengeWith=b[0]),a.$set(V);const be={};Y&1&&(be.chatWith=b[0]),s.$set(be)},i(b){P||(v(a.$$.fragment,b),v(s.$$.fragment,b),P=!0)},o(b){W(a.$$.fragment,b),W(s.$$.fragment,b),P=!1},d(b){b&&w(e),se(M,b),U(a),U(s),_=!1,K(B)}}}function vt(t,e,n){let{chatWith:l}=e,i=[],r;function f(){ut(l,r),n(2,r="")}function o(){Z(E.DeleteChat,l)}F(l,u=>{O(`chat component with ${l} received new message ${JSON.stringify(u)}`),n(1,i=[...i,u]),O(`chat history: ${JSON.stringify(i)}`)}),De(()=>{O(`New Chat component with user ${l}`),n(1,i=[qe(te).find(u=>u.with===l).first])}),Re(()=>{O(`chat component with user ${l} destroyed`),ge(l)});function c(){r=this.value,n(2,r)}return t.$$set=u=>{"chatWith"in u&&n(0,l=u.chatWith)},[l,i,r,f,o,c]}class yt extends J{constructor(e){super(),j(this,e,vt,kt,D,{chatWith:0})}}function We(t,e,n){const l=t.slice();return l[6]=e[n],l}function Se(t){let e,n;return e=new yt({props:{chatWith:t[6].with}}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},p(l,i){const r={};i&4&&(r.chatWith=l[6].with),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Pt(t){let e,n,l,i,r,f,o,c,u,h,d,a,p=t[2],s=[];for(let _=0;_<p.length;_+=1)s[_]=Se(We(t,p,_));const P=_=>W(s[_],1,1,()=>{s[_]=null});return{c(){e=g("main"),n=g("div"),l=g("h1"),l.textContent="This is a Chat Pane",i=k(),r=g("input"),f=k(),o=g("input"),c=k();for(let _=0;_<s.length;_+=1)s[_].c();y(r,"type","text"),y(o,"type","button"),o.value="Start New Chat",n.hidden=u=!t[0]},m(_,B){C(_,e,B),m(e,n),m(n,l),m(n,i),m(n,r),G(r,t[1]),m(n,f),m(n,o),m(n,c);for(let $=0;$<s.length;$+=1)s[$].m(n,null);h=!0,d||(a=[L(r,"input",t[5]),L(o,"click",t[3])],d=!0)},p(_,[B]){if(B&2&&r.value!==_[1]&&G(r,_[1]),B&4){p=_[2];let $;for($=0;$<p.length;$+=1){const M=We(_,p,$);s[$]?(s[$].p(M,B),v(s[$],1)):(s[$]=Se(M),s[$].c(),v(s[$],1),s[$].m(n,null))}for(ie(),$=p.length;$<s.length;$+=1)P($);re()}(!h||B&1&&u!==(u=!_[0]))&&(n.hidden=u)},i(_){if(!h){for(let B=0;B<p.length;B+=1)v(s[B]);h=!0}},o(_){s=s.filter(Boolean);for(let B=0;B<s.length;B+=1)W(s[B]);h=!1},d(_){_&&w(e),se(s,_),d=!1,K(a)}}}function Wt(t,e,n){let l;ce(t,te,u=>n(2,l=u));let{info:i}=e,r=i.front,f;function o(){O("new PM"),te.update(u=>(u=[...u,{with:f,first:{}}],u))}F(E.PaneChange,u=>{u===i.name?n(0,r=!0):n(0,r=!1)}),F(E.DeleteChat,u=>{O(`closing chat box with ${u}`),te.update(h=>(h=h.filter(d=>d.with!==u),h))}),F(I.PrivateMessage,u=>{O(`received a new PM: ${JSON.stringify(u)}`),l.find(h=>h.with===u.With)?(O(`forward chat ${JSON.stringify(u)} to chat component`),Z(u.With,u)):(O("new PM thread started"),te.update(h=>(h=[...h,{with:u.With,first:u}],h)))}),F(I.Challenge,u=>{O(`received a new Challenge: ${JSON.stringify(u)}`),l.find(h=>h.with===u.With)?(O("immediately forwarding challenge to active chat"),Z(u.With+E.NewChallenge,u)):(O("storing challenge for when component is created"),de.update(h=>(h=[...h,u],h)))}),F(I.ChallengeEnd,u=>{Z(`][${u}][`,"")});function c(){f=this.value,n(1,f)}return t.$$set=u=>{"info"in u&&n(4,i=u.info)},[r,f,l,o,i,c]}class St extends J{constructor(e){super(),j(this,e,Wt,Pt,D,{info:4})}}function Nt(t){let e,n,l,i;return{c(){e=g("main"),n=g("div"),l=g("h1"),l.textContent="This is a battle pane",n.hidden=i=!t[0]},m(r,f){C(r,e,f),m(e,n),m(n,l)},p(r,[f]){f&1&&i!==(i=!r[0])&&(n.hidden=i)},i:S,o:S,d(r){r&&w(e)}}}function Bt(t,e,n){let{info:l}=e,i=l.front;return F(E.PaneChange,r=>{r===l.name?n(0,i=!0):n(0,i=!1)}),t.$$set=r=>{"info"in r&&n(1,l=r.info)},[i,l]}class Mt extends J{constructor(e){super(),j(this,e,Bt,Nt,D,{info:1})}}function Ne(t,e,n){const l=t.slice();return l[1]=e[n],l}function Be(t,e,n){const l=t.slice();return l[1]=e[n],l}function Me(t){let e,n;return e=new Te({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Lt(t){let e,n;return e=new Mt({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Ot(t){let e,n;return e=new St({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Ft(t){let e,n;return e=new nt({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.info=l[1]),e.$set(r)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Le(t){let e,n,l,i;const r=[Ft,Ot,Lt],f=[];function o(c,u){return c[1].type===q.HomePane?0:c[1].type===q.ChatPane?1:c[1].type===q.BattlePane?2:-1}return~(e=o(t))&&(n=f[e]=r[e](t)),{c(){n&&n.c(),l=Ae()},m(c,u){~e&&f[e].m(c,u),C(c,l,u),i=!0},p(c,u){let h=e;e=o(c),e===h?~e&&f[e].p(c,u):(n&&(ie(),W(f[h],1,1,()=>{f[h]=null}),re()),~e?(n=f[e],n?n.p(c,u):(n=f[e]=r[e](c),n.c()),v(n,1),n.m(l.parentNode,l)):n=null)},i(c){i||(v(n),i=!0)},o(c){W(n),i=!1},d(c){~e&&f[e].d(c),c&&w(l)}}}function At(t){let e,n,l,i,r,f=t[0],o=[];for(let a=0;a<f.length;a+=1)o[a]=Me(Be(t,f,a));const c=a=>W(o[a],1,1,()=>{o[a]=null});let u=t[0],h=[];for(let a=0;a<u.length;a+=1)h[a]=Le(Ne(t,u,a));const d=a=>W(h[a],1,1,()=>{h[a]=null});return{c(){e=g("main"),n=g("div");for(let a=0;a<o.length;a+=1)o[a].c();l=k(),i=g("div");for(let a=0;a<h.length;a+=1)h[a].c();y(n,"id","tabs"),y(i,"id","view")},m(a,p){C(a,e,p),m(e,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null);m(e,l),m(e,i);for(let s=0;s<h.length;s+=1)h[s].m(i,null);r=!0},p(a,[p]){if(p&1){f=a[0];let s;for(s=0;s<f.length;s+=1){const P=Be(a,f,s);o[s]?(o[s].p(P,p),v(o[s],1)):(o[s]=Me(P),o[s].c(),v(o[s],1),o[s].m(n,null))}for(ie(),s=f.length;s<o.length;s+=1)c(s);re()}if(p&1){u=a[0];let s;for(s=0;s<u.length;s+=1){const P=Ne(a,u,s);h[s]?(h[s].p(P,p),v(h[s],1)):(h[s]=Le(P),h[s].c(),v(h[s],1),h[s].m(i,null))}for(ie(),s=u.length;s<h.length;s+=1)d(s);re()}},i(a){if(!r){for(let p=0;p<f.length;p+=1)v(o[p]);for(let p=0;p<u.length;p+=1)v(h[p]);r=!0}},o(a){o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)W(o[p]);h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)W(h[p]);r=!1},d(a){a&&w(e),se(o,a),se(h,a)}}}function Et(t,e,n){let l;return ce(t,xe,i=>n(0,l=i)),[l]}class Dt extends J{constructor(e){super(),j(this,e,Et,At,D,{})}}function Rt(t){let e,n,l,i,r,f,o;return f=new Dt({}),{c(){e=g("main"),n=g("h1"),l=N("Welcome, "),i=N(t[0]),r=k(),z(f.$$.fragment)},m(c,u){C(c,e,u),m(e,n),m(n,l),m(n,i),m(e,r),H(f,e,null),o=!0},p(c,[u]){(!o||u&1)&&R(i,c[0])},i(c){o||(v(f.$$.fragment,c),o=!0)},o(c){W(f.$$.fragment,c),o=!1},d(c){c&&w(e),U(f)}}}function Ht(t,e,n){let l;return _e.subscribe(i=>{n(0,l=i)}),F(I.Popup,i=>{}),[l]}class Ut extends J{constructor(e){super(),j(this,e,Ht,Rt,D,{})}}function jt(t){let e,n,l,i,r,f,o,c,u,h,d,a,p;return{c(){e=g("main"),n=g("h1"),n.textContent="Enter Username and Password",l=k(),i=g("p"),r=N(t[2]),f=k(),o=g("input"),c=k(),u=g("input"),h=k(),d=g("input"),y(i,"id","error-box"),y(o,"type","text"),y(o,"name","uname"),y(o,"id","uname"),y(u,"type","password"),y(u,"name","pword"),y(u,"id","pword"),y(d,"type","button"),d.value="Login"},m(s,P){C(s,e,P),m(e,n),m(e,l),m(e,i),m(i,r),m(e,f),m(e,o),G(o,t[0]),m(e,c),m(e,u),G(u,t[1]),m(e,h),m(e,d),a||(p=[L(o,"input",t[4]),L(u,"input",t[5]),L(d,"click",t[3])],a=!0)},p(s,[P]){P&4&&R(r,s[2]),P&1&&o.value!==s[0]&&G(o,s[0]),P&2&&u.value!==s[1]&&G(u,s[1])},i:S,o:S,d(s){s&&w(e),a=!1,K(p)}}}function Jt(t,e,n){let l,i,r="";function f(){O("sending login"),it(l,i)}F(I.LoginSuccess,u=>{O(`${u.UserName} logged in`),_e.update(()=>u.UserName),Z(E.ViewChange,x.Client)}),F(I.LoginFail,u=>{O("login failure"),n(2,r=u.Reason)});function o(){l=this.value,n(0,l)}function c(){i=this.value,n(1,i)}return[l,i,r,f,o,c]}class qt extends J{constructor(e){super(),j(this,e,Jt,jt,D,{})}}function zt(t){let e,n;return e=new Ut({}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Kt(t){let e,n;return e=new qt({}),{c(){z(e.$$.fragment)},m(l,i){H(e,l,i),n=!0},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Yt(t){let e,n,l,i;const r=[Kt,zt],f=[];function o(c,u){return c[0]==x.Login?0:c[0]==x.Client?1:-1}return~(n=o(t))&&(l=f[n]=r[n](t)),{c(){e=g("main"),l&&l.c()},m(c,u){C(c,e,u),~n&&f[n].m(e,null),i=!0},p(c,[u]){let h=n;n=o(c),n!==h&&(l&&(ie(),W(f[h],1,1,()=>{f[h]=null}),re()),~n?(l=f[n],l||(l=f[n]=r[n](c),l.c()),v(l,1),l.m(e,null)):l=null)},i(c){i||(v(l),i=!0)},o(c){W(l),i=!1},d(c){c&&w(e),~n&&f[n].d()}}}function Gt(t,e,n){let l=x.Login,i=l;return F(E.ViewChange,r=>{if(r===x.Previous){let f=l;n(0,l=i),i=f}else i=l,n(0,l=r)}),[l]}class Qt extends J{constructor(e){super(),j(this,e,Gt,Yt,D,{})}}new Qt({target:document.getElementById("app")});
