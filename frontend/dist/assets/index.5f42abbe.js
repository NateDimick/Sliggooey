const Oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};Oe();function P(){}function ke(t){return t()}function se(){return Object.create(null)}function q(t){t.forEach(ke)}function Ee(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function We(t){return Object.keys(t).length===0}function Ce(t,...e){if(t==null)return P;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ye(t){let e;return Ce(t,n=>e=n)(),e}function Pe(t,e,n){t.$$.on_destroy.push(Ce(e,n))}function m(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode.removeChild(t)}function re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function y(){return N(" ")}function Me(){return N("")}function E(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Be(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=e==null?"":e}let U;function Z(t){U=t}function Se(){if(!U)throw new Error("Function called outside component initialization");return U}function Fe(t){Se().$$.on_mount.push(t)}function Ae(t){Se().$$.on_destroy.push(t)}const Y=[],ae=[],te=[],he=[],De=Promise.resolve();let oe=!1;function He(){oe||(oe=!0,De.then(Le))}function ue(t){te.push(t)}const le=new Set;let ee=0;function Le(){const t=U;do{for(;ee<Y.length;){const e=Y[ee];ee++,Z(e),Re(e.$$)}for(Z(null),Y.length=0,ee=0;ae.length;)ae.pop()();for(let e=0;e<te.length;e+=1){const n=te[e];le.has(n)||(le.add(n),n())}te.length=0}while(Y.length);for(;he.length;)he.pop()();oe=!1,le.clear(),Z(t)}function Re(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}const ne=new Set;let K;function I(){K={r:0,c:[],p:K}}function V(){K.r||q(K.c),K=K.p}function v(t,e){t&&t.i&&(ne.delete(t),t.i(e))}function k(t,e,n,i){if(t&&t.o){if(ne.has(t))return;ne.add(t),K.c.push(()=>{ne.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function z(t){t&&t.c()}function A(t,e,n,i){const{fragment:r,on_mount:l,on_destroy:c,after_update:u}=t.$$;r&&r.m(e,n),i||ue(()=>{const f=l.map(ke).filter(Ee);c?c.push(...f):q(f),t.$$.on_mount=[]}),u.forEach(ue)}function D(t,e){const n=t.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function je(t,e){t.$$.dirty[0]===-1&&(Y.push(t),He(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,n,i,r,l,c,u=[-1]){const f=U;Z(t);const o=t.$$={fragment:null,ctx:null,props:l,update:P,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:se(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};c&&c(o.root);let a=!1;if(o.ctx=n?n(t,e.props||{},(g,h,...d)=>{const s=d.length?d[0]:h;return o.ctx&&r(o.ctx[g],o.ctx[g]=s)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](s),a&&je(t,g)),h}):[],o.update(),a=!0,q(o.before_update),o.fragment=i?i(o.ctx):!1,e.target){if(e.hydrate){const g=Be(e.target);o.fragment&&o.fragment.l(g),g.forEach(M)}else o.fragment&&o.fragment.c();e.intro&&v(t.$$.fragment),A(t,e.target,e.anchor,e.customElement),Le()}Z(f)}class R{$destroy(){D(this,1),this.$destroy=P}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!We(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Je(t){window.runtime.LogPrint(t)}function qe(t,e,n){window.runtime.EventsOnMultiple(t,e,n)}function W(t,e){qe(t,e,-1)}function ze(t){return window.runtime.EventsOff(t)}function x(t){let e=[t].slice.call(arguments);return window.runtime.EventsEmit.apply(null,e)}function L(t){Je("[TS] "+t)}var O=(t=>(t[t.HomePane=0]="HomePane",t[t.ChatPane=1]="ChatPane",t[t.BattlePane=2]="BattlePane",t[t.RoomPane=3]="RoomPane",t[t.TeamBuilderPane=4]="TeamBuilderPane",t))(O||{}),Q=(t=>(t[t.Login=0]="Login",t[t.Register=1]="Register",t[t.Client=2]="Client",t[t.Settings=3]="Settings",t[t.Previous=4]="Previous",t))(Q||{}),B=(t=>(t.ViewChange="uiChangeView",t.PaneChange="uiChangePane",t.DeletePane="uiDeletePane",t.DeleteChat="uiDeleteChat",t))(B||{}),T=(t=>(t.LoginFail="loginFail",t.LoginSuccess="loginSuccess",t.FormatList="formats",t.PrivateMessage="pm",t.RoomMessage="roomMsg",t.Popup="popup",t.Challenge="challenged",t))(T||{}),ie=(t=>(t[t.Other=0]="Other",t[t.Self=1]="Self",t[t.System=2]="System",t))(ie||{});function me(t){let e,n,i;return{c(){e=p("input"),C(e,"type","button"),e.value="x"},m(r,l){S(r,e,l),n||(i=E(e,"click",t[2]),n=!0)},p:P,d(r){r&&M(e),n=!1,i()}}}function Ke(t){let e,n,i,r,l,c,u=t[0].type!==O.HomePane&&t[0].type!==O.ChatPane&&me(t);return{c(){e=p("main"),n=p("input"),r=y(),u&&u.c(),C(n,"type","button"),n.value=i=t[0].name},m(f,o){S(f,e,o),m(e,n),m(e,r),u&&u.m(e,null),l||(c=E(n,"click",t[1]),l=!0)},p(f,[o]){o&1&&i!==(i=f[0].name)&&(n.value=i),f[0].type!==O.HomePane&&f[0].type!==O.ChatPane?u?u.p(f,o):(u=me(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:P,o:P,d(f){f&&M(e),u&&u.d(),l=!1,c()}}}function Xe(t,e,n){let{info:i}=e;function r(){x(B.PaneChange,i.name)}function l(){x(B.DeletePane,i.name)}return t.$$set=c=>{"info"in c&&n(0,i=c.info)},[i,r,l]}class Ge extends R{constructor(e){super(),H(this,e,Xe,Ke,F,{info:0})}}const X=[];function fe(t,e=P){let n;const i=new Set;function r(u){if(F(t,u)&&(t=u,n)){const f=!X.length;for(const o of i)o[1](),X.push(o,t);if(f){for(let o=0;o<X.length;o+=2)X[o][0](X[o+1]);X.length=0}}}function l(u){r(u(t))}function c(u,f=P){const o=[u,f];return i.add(o),i.size===1&&(n=e(r)||P),u(t),()=>{i.delete(o),i.size===0&&(n(),n=null)}}return{set:r,update:l,subscribe:c}}const G=fe([]),Ne=fe(""),Qe=fe([{type:O.HomePane,name:"Home",front:!0,removable:!1},{type:O.ChatPane,name:"Private Chats",front:!1,removable:!1}]);function Ye(t){let e,n,i,r,l,c;return{c(){e=p("main"),n=p("div"),i=p("h1"),i.textContent="This is the Home Pane",r=y(),l=p("h2"),l.textContent="Eventually this is where Battle search will appear",n.hidden=c=!t[0]},m(u,f){S(u,e,f),m(e,n),m(n,i),m(n,r),m(n,l)},p(u,[f]){f&1&&c!==(c=!u[0])&&(n.hidden=c)},i:P,o:P,d(u){u&&M(e)}}}function Ze(t,e,n){let{info:i}=e,r=i.front;return W(B.PaneChange,l=>{l===i.name?n(0,r=!0):n(0,r=!1)}),t.$$set=l=>{"info"in l&&n(1,i=l.info)},[r,i]}class Ue extends R{constructor(e){super(),H(this,e,Ze,Ye,F,{info:1})}}function Ie(t,e){window.go.main.App.SendPM(t,e)}function Ve(t,e){window.go.main.App.SDLogin(t,e)}function de(t,e,n){const i=t.slice();return i[10]=e[n],i}function xe(t){let e,n=t[10].Message+"",i;return{c(){e=p("p"),i=N(n)},m(r,l){S(r,e,l),m(e,i)},p(r,l){l&2&&n!==(n=r[10].Message+"")&&J(i,n)},d(r){r&&M(e)}}}function Te(t){let e,n=t[10].IAm+"",i,r,l=t[10].Message+"",c;return{c(){e=p("p"),i=N(n),r=y(),c=N(l)},m(u,f){S(u,e,f),m(e,i),m(e,r),m(e,c)},p(u,f){f&2&&n!==(n=u[10].IAm+"")&&J(i,n),f&2&&l!==(l=u[10].Message+"")&&J(c,l)},d(u){u&&M(e)}}}function et(t){let e,n=t[10].With+"",i,r,l=t[10].Message+"",c;return{c(){e=p("p"),i=N(n),r=y(),c=N(l)},m(u,f){S(u,e,f),m(e,i),m(e,r),m(e,c)},p(u,f){f&2&&n!==(n=u[10].With+"")&&J(i,n),f&2&&l!==(l=u[10].Message+"")&&J(c,l)},d(u){u&&M(e)}}}function pe(t){let e;function n(l,c){if(l[10].From===ie.Other)return et;if(l[10].From===ie.Self)return Te;if(l[10].From===ie.System)return xe}let i=n(t),r=i&&i(t);return{c(){r&&r.c(),e=Me()},m(l,c){r&&r.m(l,c),S(l,e,c)},p(l,c){i===(i=n(l))&&r?r.p(l,c):(r&&r.d(1),r=i&&i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){r&&r.d(l),l&&M(e)}}}function tt(t){let e,n,i,r,l,c,u,f,o,a,g,h,d=t[1],s=[];for(let _=0;_<d.length;_+=1)s[_]=pe(de(t,d,_));return{c(){e=p("main"),n=p("h3"),i=N(t[0]),r=y(),l=p("input"),c=y();for(let _=0;_<s.length;_+=1)s[_].c();u=y(),f=p("input"),o=y(),a=p("input"),C(l,"type","button"),l.value="X",C(f,"type","text"),C(a,"type","button"),a.value="Send"},m(_,$){S(_,e,$),m(e,n),m(n,i),m(e,r),m(e,l),m(e,c);for(let b=0;b<s.length;b+=1)s[b].m(e,null);m(e,u),m(e,f),j(f,t[2]),m(e,o),m(e,a),g||(h=[E(l,"click",t[4]),E(f,"input",t[5]),E(a,"click",t[3])],g=!0)},p(_,[$]){if($&1&&J(i,_[0]),$&2){d=_[1];let b;for(b=0;b<d.length;b+=1){const w=de(_,d,b);s[b]?s[b].p(w,$):(s[b]=pe(w),s[b].c(),s[b].m(e,u))}for(;b<s.length;b+=1)s[b].d(1);s.length=d.length}$&4&&f.value!==_[2]&&j(f,_[2])},i:P,o:P,d(_){_&&M(e),re(s,_),g=!1,q(h)}}}function nt(t,e,n){let{chatWith:i}=e,r=[],l;function c(){Ie(i,l),n(2,l="")}function u(){x(B.DeleteChat,i)}W(i,o=>{L(`chat component with ${i} received new message ${JSON.stringify(o)}`),n(1,r=[...r,o]),L(`chat history: ${JSON.stringify(r)}`)}),Fe(()=>{L(`New Chat component with user ${i}`),n(1,r=[ye(G).find(o=>o.with===i).first])}),Ae(()=>{L(`chat component with user ${i} destroyed`),ze(i)});function f(){l=this.value,n(2,l)}return t.$$set=o=>{"chatWith"in o&&n(0,i=o.chatWith)},[i,r,l,c,u,f]}class it extends R{constructor(e){super(),H(this,e,nt,tt,F,{chatWith:0})}}function _e(t,e,n){const i=t.slice();return i[6]=e[n],i}function ge(t){let e,n;return e=new it({props:{chatWith:t[6].with}}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},p(i,r){const l={};r&4&&(l.chatWith=i[6].with),e.$set(l)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function rt(t){let e,n,i,r,l,c,u,f,o,a,g,h,d=t[2],s=[];for(let $=0;$<d.length;$+=1)s[$]=ge(_e(t,d,$));const _=$=>k(s[$],1,1,()=>{s[$]=null});return{c(){e=p("main"),n=p("div"),i=p("h1"),i.textContent="This is a Chat Pane",r=y(),l=p("input"),c=y(),u=p("input"),f=y();for(let $=0;$<s.length;$+=1)s[$].c();C(l,"type","text"),C(u,"type","button"),u.value="Start New Chat",n.hidden=o=!t[0]},m($,b){S($,e,b),m(e,n),m(n,i),m(n,r),m(n,l),j(l,t[1]),m(n,c),m(n,u),m(n,f);for(let w=0;w<s.length;w+=1)s[w].m(n,null);a=!0,g||(h=[E(l,"input",t[5]),E(u,"click",t[3])],g=!0)},p($,[b]){if(b&2&&l.value!==$[1]&&j(l,$[1]),b&4){d=$[2];let w;for(w=0;w<d.length;w+=1){const ce=_e($,d,w);s[w]?(s[w].p(ce,b),v(s[w],1)):(s[w]=ge(ce),s[w].c(),v(s[w],1),s[w].m(n,null))}for(I(),w=d.length;w<s.length;w+=1)_(w);V()}(!a||b&1&&o!==(o=!$[0]))&&(n.hidden=o)},i($){if(!a){for(let b=0;b<d.length;b+=1)v(s[b]);a=!0}},o($){s=s.filter(Boolean);for(let b=0;b<s.length;b+=1)k(s[b]);a=!1},d($){$&&M(e),re(s,$),g=!1,q(h)}}}function lt(t,e,n){let i;Pe(t,G,o=>n(2,i=o));let{info:r}=e,l=r.front,c;function u(){L("new PM"),G.update(o=>(o=[...o,{with:c,first:{}}],o))}W(B.PaneChange,o=>{o===r.name?n(0,l=!0):n(0,l=!1)}),W(T.PrivateMessage,o=>{L(`received a new PM: ${JSON.stringify(o)}`),ye(G).find(g=>g.with===o.With)?(L(`forward chat ${JSON.stringify(o)} to chat component`),x(o.With,o)):(L("new PM"),G.update(g=>(g=[...g,{with:o.With,first:o}],g)))}),W(B.DeleteChat,o=>{L(`closing chat box with ${o}`),G.update(a=>(a=a.filter(g=>g.with!==o),a))});function f(){c=this.value,n(1,c)}return t.$$set=o=>{"info"in o&&n(4,r=o.info)},[l,c,i,u,r,f]}class ot extends R{constructor(e){super(),H(this,e,lt,rt,F,{info:4})}}function ut(t){let e,n,i,r;return{c(){e=p("main"),n=p("div"),i=p("h1"),i.textContent="This is a battle pane",n.hidden=r=!t[0]},m(l,c){S(l,e,c),m(e,n),m(n,i)},p(l,[c]){c&1&&r!==(r=!l[0])&&(n.hidden=r)},i:P,o:P,d(l){l&&M(e)}}}function ft(t,e,n){let{info:i}=e,r=i.front;return W(B.PaneChange,l=>{l===i.name?n(0,r=!0):n(0,r=!1)}),t.$$set=l=>{"info"in l&&n(1,i=l.info)},[r,i]}class ct extends R{constructor(e){super(),H(this,e,ft,ut,F,{info:1})}}function $e(t,e,n){const i=t.slice();return i[1]=e[n],i}function be(t,e,n){const i=t.slice();return i[1]=e[n],i}function we(t){let e,n;return e=new Ge({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},p(i,r){const l={};r&1&&(l.info=i[1]),e.$set(l)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function st(t){let e,n;return e=new ct({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},p(i,r){const l={};r&1&&(l.info=i[1]),e.$set(l)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function at(t){let e,n;return e=new ot({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},p(i,r){const l={};r&1&&(l.info=i[1]),e.$set(l)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function ht(t){let e,n;return e=new Ue({props:{info:t[1]}}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},p(i,r){const l={};r&1&&(l.info=i[1]),e.$set(l)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function ve(t){let e,n,i,r;const l=[ht,at,st],c=[];function u(f,o){return f[1].type===O.HomePane?0:f[1].type===O.ChatPane?1:f[1].type===O.BattlePane?2:-1}return~(e=u(t))&&(n=c[e]=l[e](t)),{c(){n&&n.c(),i=Me()},m(f,o){~e&&c[e].m(f,o),S(f,i,o),r=!0},p(f,o){let a=e;e=u(f),e===a?~e&&c[e].p(f,o):(n&&(I(),k(c[a],1,1,()=>{c[a]=null}),V()),~e?(n=c[e],n?n.p(f,o):(n=c[e]=l[e](f),n.c()),v(n,1),n.m(i.parentNode,i)):n=null)},i(f){r||(v(n),r=!0)},o(f){k(n),r=!1},d(f){~e&&c[e].d(f),f&&M(i)}}}function mt(t){let e,n,i,r,l,c=t[0],u=[];for(let h=0;h<c.length;h+=1)u[h]=we(be(t,c,h));const f=h=>k(u[h],1,1,()=>{u[h]=null});let o=t[0],a=[];for(let h=0;h<o.length;h+=1)a[h]=ve($e(t,o,h));const g=h=>k(a[h],1,1,()=>{a[h]=null});return{c(){e=p("main"),n=p("div");for(let h=0;h<u.length;h+=1)u[h].c();i=y(),r=p("div");for(let h=0;h<a.length;h+=1)a[h].c();C(n,"id","tabs"),C(r,"id","view")},m(h,d){S(h,e,d),m(e,n);for(let s=0;s<u.length;s+=1)u[s].m(n,null);m(e,i),m(e,r);for(let s=0;s<a.length;s+=1)a[s].m(r,null);l=!0},p(h,[d]){if(d&1){c=h[0];let s;for(s=0;s<c.length;s+=1){const _=be(h,c,s);u[s]?(u[s].p(_,d),v(u[s],1)):(u[s]=we(_),u[s].c(),v(u[s],1),u[s].m(n,null))}for(I(),s=c.length;s<u.length;s+=1)f(s);V()}if(d&1){o=h[0];let s;for(s=0;s<o.length;s+=1){const _=$e(h,o,s);a[s]?(a[s].p(_,d),v(a[s],1)):(a[s]=ve(_),a[s].c(),v(a[s],1),a[s].m(r,null))}for(I(),s=o.length;s<a.length;s+=1)g(s);V()}},i(h){if(!l){for(let d=0;d<c.length;d+=1)v(u[d]);for(let d=0;d<o.length;d+=1)v(a[d]);l=!0}},o(h){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)k(u[d]);a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)k(a[d]);l=!1},d(h){h&&M(e),re(u,h),re(a,h)}}}function dt(t,e,n){let i;return Pe(t,Qe,r=>n(0,i=r)),[i]}class pt extends R{constructor(e){super(),H(this,e,dt,mt,F,{})}}function _t(t){let e,n,i,r,l,c,u;return c=new pt({}),{c(){e=p("main"),n=p("h1"),i=N("Welcome, "),r=N(t[0]),l=y(),z(c.$$.fragment)},m(f,o){S(f,e,o),m(e,n),m(n,i),m(n,r),m(e,l),A(c,e,null),u=!0},p(f,[o]){(!u||o&1)&&J(r,f[0])},i(f){u||(v(c.$$.fragment,f),u=!0)},o(f){k(c.$$.fragment,f),u=!1},d(f){f&&M(e),D(c)}}}function gt(t,e,n){let i;return Ne.subscribe(r=>{n(0,i=r)}),W(T.Popup,r=>{}),[i]}class $t extends R{constructor(e){super(),H(this,e,gt,_t,F,{})}}function bt(t){let e,n,i,r,l,c,u,f,o,a,g,h,d;return{c(){e=p("main"),n=p("h1"),n.textContent="Enter Username and Password",i=y(),r=p("p"),l=N(t[2]),c=y(),u=p("input"),f=y(),o=p("input"),a=y(),g=p("input"),C(r,"id","error-box"),C(u,"type","text"),C(u,"name","uname"),C(u,"id","uname"),C(o,"type","password"),C(o,"name","pword"),C(o,"id","pword"),C(g,"type","button"),g.value="Login"},m(s,_){S(s,e,_),m(e,n),m(e,i),m(e,r),m(r,l),m(e,c),m(e,u),j(u,t[0]),m(e,f),m(e,o),j(o,t[1]),m(e,a),m(e,g),h||(d=[E(u,"input",t[4]),E(o,"input",t[5]),E(g,"click",t[3])],h=!0)},p(s,[_]){_&4&&J(l,s[2]),_&1&&u.value!==s[0]&&j(u,s[0]),_&2&&o.value!==s[1]&&j(o,s[1])},i:P,o:P,d(s){s&&M(e),h=!1,q(d)}}}function wt(t,e,n){let i,r,l="";function c(){L("sending login"),Ve(i,r)}W(T.LoginSuccess,o=>{L(`${o.UserName} logged in`),Ne.update(()=>o.UserName),x(B.ViewChange,Q.Client)}),W(T.LoginFail,o=>{L("login failure"),n(2,l=o.Reason)});function u(){i=this.value,n(0,i)}function f(){r=this.value,n(1,r)}return[i,r,l,c,u,f]}class vt extends R{constructor(e){super(),H(this,e,wt,bt,F,{})}}function kt(t){let e,n;return e=new $t({}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function Ct(t){let e,n;return e=new vt({}),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){D(e,i)}}}function yt(t){let e,n,i,r;const l=[Ct,kt],c=[];function u(f,o){return f[0]==Q.Login?0:f[0]==Q.Client?1:-1}return~(n=u(t))&&(i=c[n]=l[n](t)),{c(){e=p("main"),i&&i.c()},m(f,o){S(f,e,o),~n&&c[n].m(e,null),r=!0},p(f,[o]){let a=n;n=u(f),n!==a&&(i&&(I(),k(c[a],1,1,()=>{c[a]=null}),V()),~n?(i=c[n],i||(i=c[n]=l[n](f),i.c()),v(i,1),i.m(e,null)):i=null)},i(f){r||(v(i),r=!0)},o(f){k(i),r=!1},d(f){f&&M(e),~n&&c[n].d()}}}function Pt(t,e,n){let i=Q.Login,r=i;return W(B.ViewChange,l=>{if(l===Q.Previous){let c=i;n(0,i=r),r=c}else r=i,n(0,i=l)}),[i]}class Mt extends R{constructor(e){super(),H(this,e,Pt,yt,F,{})}}new Mt({target:document.getElementById("app")});
